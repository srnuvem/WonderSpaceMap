<!DOCTYPE html>
<html>

<head>
  <title>Órbitas dos Corpos Celestes</title>
  <style>
    body {
      margin: 0;
      padding: 0;
    }

    canvas {
      display: block;
      margin: auto;
      border: 1px solid black;
    }

    button {
      display: block;
      margin: 10px auto;
    }
  </style>
</head>

<body>
  <button id="saveButton">Salvar Imagem</button>
  <canvas id="myCanvas" width="1080" height="1080"></canvas>
  <script>

    const canvas = document.getElementById('myCanvas');
    const ctx = canvas.getContext('2d');
    // const fator = canvas.width / 960
    const fator = canvas.width / 480 * 16

    const astros = {
      "Terra": { cor: "#0274FF", grau: 0, divisores: 0, diametroOrbita: 0 * fator, diametro: 0.9 * fator },
      "Lua": { cor: "White", grau: 240, divisores: 3, diametroOrbita:  100 * fator, diametro:  0.47* fator },
      // "Orientacao1": { cor: "gray", grau: 0, divisores: 12, diametroOrbita: 40 * fator, diametro: 0 * fator },
      // "Orientacao2": { cor: "gray", grau: 0, divisores: 18, diametroOrbita: 60 * fator, diametro: 0 * fator },
      // "Orientacao3": { cor: "gray", grau: 0, divisores: 24, diametroOrbita: 80 * fator, diametro: 0 * fator },
      // "Orientacao4": { cor: "gray", grau: 0, divisores: 30, diametroOrbita: 100 * fator, diametro: 0 * fator },
      // "Mercúrio": { cor: "#D3D3D3", grau: 0, divisores: 36, diametroOrbita: 120 * fator, diametro: 0.55 * fator },
      // "Orientacao5": { cor: "gray", grau: 0, divisores: 42, diametroOrbita: 140 * fator, diametro: 0 * fator },
      // "Vênus": { cor: "#FFD700", grau: 60, divisores: 48, diametroOrbita: 160 * fator, diametro: 0.87 * fator },
      // "Orientacao6": { cor: "gray", grau: 0, divisores: 54, diametroOrbita: 180 * fator, diametro: 0 * fator },
      // "Orientacao7": { cor: "gray", grau: 0, divisores: 66, diametroOrbita: 220 * fator, diametro: 0 * fator },
      // "Marte": { cor: "#A52A2A", grau: 60, divisores: 72, diametroOrbita: 240 * fator, diametro: 0.65 * fator },

      // "Orientacao8": { cor: "gray", grau: 0, divisores: 42, diametroOrbita: 280 * fator, diametro: 0 * fator },
      // "Vesta": { cor: "#FFFFFF", grau: 300, divisores: 48, diametroOrbita: 320 * fator, diametro: 0.18 * fator },
      // "Orientacao Cinturão de Asteroides": { cor: "gray", grau: 330, divisores: 48, diametroOrbita: 320 * fator, diametro: 0 * fator },
      // "Pallas": { cor: "#FFFFFF", grau: 210, divisores: 48, diametroOrbita: 320 * fator, diametro: 0.18 * fator },
      // "Ceres": { cor: "#FFFFFF", grau: 120, divisores: 48, diametroOrbita: 320 * fator, diametro: 0.24 * fator },
      // "Orientacao9": { cor: "gray", grau: 0, divisores: 54, diametroOrbita: 360 * fator, diametro: 0 * fator },
      // "Orientacao10": { cor: "gray", grau: 0, divisores: 60, diametroOrbita: 400 * fator, diametro: 0 * fator },
      // "Júpiter": { cor: "#800080", grau: 180, divisores: 66, diametroOrbita: 440 * fator, diametro: 2.97 * fator },
      // "Orientacao11": { cor: "gray", grau: 0, divisores: 72, diametroOrbita: 480 * fator, diametro: 0 * fator },
      // "Orientacao12": { cor: "gray", grau: 0, divisores: 78, diametroOrbita: 520 * fator, diametro: 0 * fator },
      // "Orientacao13": { cor: "gray", grau: 0, divisores: 84, diametroOrbita: 560 * fator, diametro: 0 * fator },
      // "Saturno": { cor: "#C0C000", grau: 270, divisores: 90, diametroOrbita: 600 * fator, diametro: 0 * fator },
      // "Orientacao14": { cor: "gray", grau: 0, divisores: 96, diametroOrbita: 640 * fator, diametro: 2.71 * fator },
      // "Orientacao15": { cor: "gray", grau: 0, divisores: 102, diametroOrbita: 680 * fator, diametro: 0 * fator },
      // "Orientacao16": { cor: "gray", grau: 0, divisores: 108, diametroOrbita: 720 * fator, diametro: 0 * fator },
      // "Orientacao17": { cor: "gray", grau: 0, divisores: 114, diametroOrbita: 760 * fator, diametro: 0 * fator },
      // "Orientacao18": { cor: "gray", grau: 0, divisores: 120, diametroOrbita: 800 * fator, diametro: 0 * fator },
      // "Orientacao19": { cor: "gray", grau: 0, divisores: 126, diametroOrbita: 840 * fator, diametro: 0 * fator },
      // "Urano": { cor: "#4682B4", grau: 330, divisores: 132, diametroOrbita: 880 * fator, diametro: 1.79 * fator },
      // "Orientacao20": { cor: "gray", grau: 0, divisores: 138, diametroOrbita: 920 * fator, diametro: 0 * fator },
      // "Orientacao21": { cor: "gray", grau: 0, divisores: 144, diametroOrbita: 960 * fator, diametro: 0 * fator },
      // "Orientacao22": { cor: "gray", grau: 0, divisores: 150, diametroOrbita: 1000 * fator, diametro: 0 * fator },
      // "Orientacao23": { cor: "gray", grau: 0, divisores: 156, diametroOrbita: 1040 * fator, diametro: 0 * fator },
      // "Cinturão de Kuiper": { cor: "lightgray", grau: 60, divisores: 162, diametroOrbita: 1080 * fator, diametro: 0 * fator },
      // "Netuno": { cor: "#000080", grau: 90, divisores: 162, diametroOrbita: 1080 * fator, diametro: 1.76 * fator },
      // "Orientacao24": { cor: "gray", grau: 0, divisores: 168, diametroOrbita: 1120 * fator, diametro: 0 * fator },
      // "Orientacao25": { cor: "gray", grau: 0, divisores: 174, diametroOrbita: 1160 * fator, diametro: 0 * fator },
      // "Plutão": { cor: "#808080", grau: 360, divisores: 180, diametroOrbita: 1200 * fator, diametro: 0.39 * fator },
    };

    function drawStars() {
      const numStars = 150;
      ctx.fillStyle = 'black';
      ctx.fillRect(0, 0, canvas.width, canvas.height);

      ctx.fillStyle = 'white';

      for (let i = 0; i < numStars; i++) {
        const x = Math.random() * canvas.width;
        const y = Math.random() * canvas.height;
        ctx.fillRect(x, y, 2, 2);
      }
    }

    function drawBody(astro) {
      const { diametroOrbita, cor, grau, diametro } = astros[astro];

      const raioOrbita = diametroOrbita / 8;
      const x = canvas.width / 2 + raioOrbita * Math.cos((grau - 90) * (Math.PI / 180));
      const y = canvas.height / 2 + raioOrbita * Math.sin((grau - 90) * (Math.PI / 180));

      ctx.strokeStyle = cor;
      ctx.setLineDash([5, 2]); // 5 é o tamanho do traço, 5 é o espaço entre traços
      ctx.lineWidth = 1;

      ctx.beginPath();
      ctx.arc(canvas.width / 2, canvas.height / 2, raioOrbita, 0, 2 * Math.PI);
      ctx.stroke();

      ctx.fillStyle = cor;
      ctx.beginPath();
      ctx.arc(x, y, diametro, 0, 2 * Math.PI);
      ctx.fill();

      ctx.fillStyle = "white";
      ctx.font = "12px Arial";
      ctx.textAlign = "center";
      ctx.textBaseline = "bottom";
      ctx.fillText(astro, x, y - 1.2 * fator);
    }

    function drawGuideLine(astro) {
      const { diametroOrbita, cor, grau } = astros[astro];

      const raioOrbita = diametroOrbita / 8;
      const x = canvas.width / 2 + raioOrbita * Math.cos((grau - 90) * (Math.PI / 180));
      const y = canvas.height / 2 + raioOrbita * Math.sin((grau - 90) * (Math.PI / 180));

      ctx.strokeStyle = cor;
      ctx.setLineDash([5, 2]); // 5 é o tamanho do traço, 5 é o espaço entre traços
      ctx.lineWidth = 1;

      ctx.beginPath();
      ctx.arc(canvas.width / 2, canvas.height / 2, raioOrbita, 0, 2 * Math.PI);
      ctx.stroke();
    }

    function drawMarkers(astro) {
      const divisores = astros[astro].divisores;

      for (let i = 0; i < divisores; i++) {
        const angulo = (360 / divisores) * i;

        const { diametroOrbita, cor } = astros[astro];
        const grau = angulo;

        const lineSize = fator / 4;
        const midSize = lineSize / 2;

        const raioOrbita = diametroOrbita / 8;
        const x = canvas.width / 2 + raioOrbita * Math.cos((grau - 90) * (Math.PI / 180));
        const y = canvas.height / 2 + raioOrbita * Math.sin((grau - 90) * (Math.PI / 180));

        const inicioX = x - midSize * Math.cos((grau - 90) * (Math.PI / 180));
        const inicioY = y - midSize * Math.sin((grau - 90) * (Math.PI / 180));

        const fimX = inicioX + lineSize * Math.cos((grau - 90) * (Math.PI / 180));
        const fimY = inicioY + lineSize * Math.sin((grau - 90) * (Math.PI / 180));

        ctx.strokeStyle = cor;
        ctx.setLineDash([]); // 5 é o tamanho do traço, 5 é o espaço entre traços
        ctx.lineWidth = 2;
        ctx.beginPath();
        ctx.moveTo(inicioX, inicioY);
        ctx.lineTo(fimX, fimY);
        ctx.stroke();
      }
    }

    function drawAsteroids() {
      const numAsteroids = 5000; // Número de asteroides a serem desenhados
      const asteroidSize = fator / 16
      const raioOrbita = astros["Orientacao Cinturão de Asteroides"].diametroOrbita / 8; // Raio da órbita
      const cor = astros["Orientacao Cinturão de Asteroides"].cor; // Cor dos asteroides

      ctx.fillStyle = cor;


      for (let i = 0; i < numAsteroids; i++) {
        // Gerar uma posição aleatória ao longo da órbita
        const angulo = Math.random() * 360;
        const raioVariacao = Math.random() * fator; // Variacao aleatoria de até 5 pixels para cima ou para baixo
        const raioFinal = raioOrbita + raioVariacao - fator / 2;
        const x = canvas.width / 2 + raioFinal * Math.cos((angulo - 90) * (Math.PI / 180));
        const y = canvas.height / 2 + raioFinal * Math.sin((angulo - 90) * (Math.PI / 180));

        // Desenhar o asteroide
        ctx.fillRect(x, y, asteroidSize, asteroidSize);
      }
    }

    function saveImage() {
      const dataURL = canvas.toDataURL('image/png');
      const link = document.createElement('a');
      link.href = dataURL;
      link.download = 'orbitas_celestes_4k.png';
      document.body.appendChild(link);
      link.click();
      document.body.removeChild(link);
    }

    function drawSun() {
      const { diametroOrbita, cor, grau, diametro } = astros["Terra"];

      ctx.fillStyle = cor;
      ctx.beginPath();
      ctx.arc(canvas.width / 2, canvas.height / 2, diametro, 0, 2 * Math.PI);
      ctx.fill();

      ctx.fillStyle = "black";
      ctx.font = "12px Arial";
      ctx.textAlign = "center";
      ctx.textBaseline = "middle";
      ctx.fillText("Terra", canvas.width / 2, canvas.height / 2
      );
    }

    drawStars();

    // drawAsteroids();
    for (const astro in astros) {
      if (astro !== "Terra") {
        if (astro.includes("Orientacao")) {
          drawGuideLine(astro)
        } else {
          drawBody(astro);
        }
        drawMarkers(astro);

      }
    }

    drawSun();

    document.getElementById("saveButton").addEventListener("click", saveImage);
  </script>
</body>

</html>